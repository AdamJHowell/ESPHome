substitutions:
  name_of_device: armada-sht30-01
  device_name_friendly: Armada-SHT30-01

esphome:
  name: $name_of_device
  friendly_name: $device_name_friendly

esp32:
  board: esp32dev
  framework:
    type: arduino

# Enable logging
logger:
  level: VERBOSE
  logs:
    mqtt.component: ERROR
    mqtt.client: ERROR

# Enable Home Assistant API
api:
  encryption:
    key: "O5I+AON66eIzuMGtYQFBYB5SA8rFwZc+qFJlRMIENuk="

ota:
  password: "930f4ae76dcbb47f18d72e27fc759ff5"

sensor:
  - platform: sht3xd
    temperature:
      name: "SHT30Temp"
      id: sht30_temp
      on_value:
        - mqtt.publish:
            topic: "$name_of_device/sht30/temperature"
            payload: !lambda |-
              return to_string( id( sht30_temp ).state );
    humidity:
      name: "humidity"
      id: sht30_humidity
      on_value:
        - mqtt.publish:
            topic: "$name_of_device/sht30/humidity"
            payload: !lambda |-
              return to_string( id( sht30_humidity ).state );
    address: 0x44
    update_interval: 20s
  - platform: wifi_signal
    name: $device_name_friendly WiFi Signal
    update_interval: 20s

text_sensor:
  - platform: wifi_info
    ip_address:
      name: ESP IP Address
    ssid:
      name: ESP Connected SSID
    bssid:
      name: ESP Connected BSSID
    mac_address:
      name: ESP Mac Wifi Address
    scan_results:
      name: ESP Latest Scan Results

wifi:
  networks:
  - ssid: !secret wifi_ssid
    password: !secret wifi_password
  - ssid: !secret wifi_ssid_backup
    password: !secret wifi_password

mqtt:
  broker: 192.168.55.200

i2c:
  sda: 21
  scl: 22
  scan: true
  frequency: 400kHz
